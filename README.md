# Simple-Music-Synthesizer
A simple music synthesizer based on MATLAB.

## Demos
Examples are available in the `src/outputs` folder.

## Usage
Use `gen_music(notespec, instrument_config, sec_per_rhythm, fs)` to convert numbered musical notations to a music file.

An example of `notespec`:
```matlab
example_notespec = struct( ...
    "key", "D", ...
    "beat", [4, 4], ...
    "spec", [ ...
        "|", "", "", "6_", "7_", "||:", "^1.", "7_", "^1", "^3", "|", "7--", "3_", "3_", "|", "6.", "5_", "6", "^1", "|", "5-", "0", "3_", "3_", "|", "4.", "3_", "4_", "^1.", ...
        "|", "3-", "0_", "^1_", "^1_", "^1_", "|", "7.", "#4_", "#4", "7", "|", "7-", "0", "6_", "7_", "|", "^1.", "7_", "^1", "^3", "|", "7-", "0", "3_", "3_", "|", "6.", "5_", "6", "^1", ...
        "|", "5--", "0_", "3_", "|", "4", "^1_", "7_", "&7", "^1", "|", "^2", "^3_", "^1_", "&^1-", "|", "^1_", "7_", "6_", "6_", "7", "#5", "||", "6-", "0", "^1_", "^2_", "|", "^3.", "^2_", "^3", "^5", ...
        "|", "^2-", "0", "5_", "5_", "|", "^1.", "7_", "^1", "^3", "|", "^3--", "0", "|", "6_", "7_", "^1", "7", "^2_", "^2_", "|", "^1.", "5_", "5-", "|", "^4", "^3", "^2", "^1", ...
        "|", "^3---", "|", "&^3-", "0", "^3", "|", "^6-", "^5", "^5", "|", "^3", "^2_", "^1_", "&^1-", "|", "^2", "^1_", "^2_", "&^2", "^5", "|", "^3--", "^3", ...
        "|", "^6-", "^5-", "|", "^3_", "^2_", "^1-", "0_", "^1_", "|", "^2", "^1_", "^2_", "&^2", "7", "|", "6-", "0", "6_", "7_", ":||", "6---", "|" ...
    ] ...
);
```

See `main.mlx`.

## Instruments
The parameter `instrument_config` in `gen_music` is a configuration file for the instrument, containing a list of frequency, harmonic weights and the envelope waveform of the instrument's tones.

An example of `instrument_config` (`src/configs/piano_21_108_ds10_abe=false.json`):
```json
{
    "name": "German Concert D",
    "index": [
        27.5,
        29.13523509488062,
        30.86770632850775,
        ...
        3729.3100921447194,
        3951.066410048992,
        4186.009044809578
    ],
    "list": [
        {
            "basef": 27.5,
            "harmonics": [
                1,
                0.10938317566995517,
                0.2912012602130241,
                ...
                0.0098236531253222,
                0.027231970197477737,
                0.027327695314799193
            ],
            "envelope": {
                "data": [
                    1.0021453561291174,
                    1.0021453561291174,
                    1.0021453561291174,
                    ...
                ],
                "fs": 41100
            }
        },
        ...
    ]
}
```

The `piano_21_108_ds10_abe=false.json` is generated by `src/scripts/piano_config_generation.m` from the free samples in `src/resources/German Concert D/`.
